import { useState } from "react"; import { motion } from "framer-motion"; import { Card, CardContent } from "@/components/ui/card"; import { Button } from "@/components/ui/button"; import { Progress } from "@/components/ui/progress";

const questions = [ { question: "Qual Ã© a principal funÃ§Ã£o do mÃºsculo subescapular?", options: ["FlexÃ£o do ombro", "ExtensÃ£o do carpo", "AduÃ§Ã£o da escÃ¡pula", "AduÃ§Ã£o do ombro"], answer: 3, explanation: "O subescapular aduz o ombro e estabiliza a articulaÃ§Ã£o.", level: "mÃ©dio" }, { question: "O termo 'plantar' se refere Ã :", options: ["Face dorsal do membro torÃ¡cico", "Face ventral da escÃ¡pula", "Face caudal do membro pÃ©lvico", "Face palmar do membro torÃ¡cico"], answer: 2, explanation: "'Plantar' refere-se Ã  parte inferior dos membros pÃ©lvicos.", level: "fÃ¡cil" }, { question: "Qual mÃºsculo estÃ¡ envolvido na extensÃ£o da articulaÃ§Ã£o do carpo?", options: ["Flexor digital profundo", "Extensor radial do carpo", "TrapÃ©zio", "BraquiocefÃ¡lico"], answer: 1, explanation: "O extensor radial do carpo estende a articulaÃ§Ã£o do carpo.", level: "mÃ©dio" }, { question: "O plano que divide o corpo em dorsal e ventral Ã© o plano:", options: ["Transversal", "Mediano", "Sagital", "Frontal"], answer: 3, explanation: "O plano frontal separa as partes dorsal e ventral.", level: "fÃ¡cil" }, { question: "Qual dessas estruturas pertence ao sistema tegumentar?", options: ["MÃºsculo bÃ­ceps", "Osso nasal", "Pele", "PulmÃ£o"], answer: 2, explanation: "A pele Ã© o principal Ã³rgÃ£o do sistema tegumentar.", level: "fÃ¡cil" }, { question: "O reflexo cutÃ¢neo do tronco Ã© Ãºtil para avaliar:", options: ["LesÃµes musculares do membro pÃ©lvico", "Integridade do encÃ©falo", "Trauma medular torÃ¡cico", "Resposta hormonal"], answer: 2, explanation: "Esse reflexo avalia lesÃµes torÃ¡cicas na medula espinhal.", level: "difÃ­cil" }, { question: "Qual mÃºsculo eleva a cabeÃ§a e o pescoÃ§o?", options: ["Romboide", "TrapÃ©zio", "EsplÃªnio", "Peitoral profundo"], answer: 2, explanation: "O esplÃªnio Ã© responsÃ¡vel pela elevaÃ§Ã£o e extensÃ£o da cabeÃ§a.", level: "mÃ©dio" }, { question: "As glÃ¢ndulas sudorÃ­paras de cavalos sÃ£o do tipo:", options: ["Ã‰crinas", "ApÃ³crinas funcionais", "SebÃ¡ceas", "EndÃ³crinas"], answer: 1, explanation: "As glÃ¢ndulas apÃ³crinas em equinos atuam na sudorese durante o esforÃ§o.", level: "difÃ­cil" }, { question: "O plexo braquial inerva:", options: ["Membro pÃ©lvico", "Membro torÃ¡cico", "CabeÃ§a", "Cauda"], answer: 1, explanation: "O plexo braquial dÃ¡ origem aos nervos do membro torÃ¡cico.", level: "fÃ¡cil" }, { question: "O osso zigomÃ¡tico faz parte de qual estrutura?", options: ["Caixa torÃ¡cica", "Pelve", "CrÃ¢nio", "Coluna vertebral"], answer: 2, explanation: "O osso zigomÃ¡tico compÃµe a parede lateral da Ã³rbita no crÃ¢nio.", level: "mÃ©dio" }, // 18 novas perguntas adicionadas { question: "Qual termo indica a extremidade mais prÃ³xima da origem do membro?", options: ["Distal", "Ventral", "Proximal", "Medial"], answer: 2, explanation: "Proximal Ã© mais prÃ³ximo da origem do membro.", level: "fÃ¡cil" }, { question: "Qual dos seguintes Ã© um osso da face?", options: ["Occipital", "Maxilar", "Parietal", "Temporal"], answer: 1, explanation: "O maxilar compÃµe a parte facial do crÃ¢nio.", level: "fÃ¡cil" }, { question: "A funÃ§Ã£o principal da epiderme Ã©:", options: ["Suporte vascular", "SÃ­ntese de colÃ¡geno", "Barreira protetora", "TermorregulaÃ§Ã£o"], answer: 2, explanation: "A epiderme protege contra agentes externos.", level: "fÃ¡cil" }, { question: "MÃºsculo que flexiona o pescoÃ§o lateralmente:", options: ["EsternocefÃ¡lico", "BÃ­ceps femoral", "TrapÃ©zio", "Peitoral superficial"], answer: 0, explanation: "O esternocefÃ¡lico atua na flexÃ£o lateral da cabeÃ§a/pescoÃ§o.", level: "fÃ¡cil" }, { question: "A hipoderme Ã© rica em:", options: ["MÃºsculo esquelÃ©tico", "EpitÃ©lio glandular", "Tecido adiposo", "Ossos planos"], answer: 2, explanation: "A hipoderme contÃ©m gordura para isolamento tÃ©rmico.", level: "fÃ¡cil" }, { question: "Termo que indica o lado voltado para a linha mÃ©dia do corpo:", options: ["Lateral", "Dorsal", "Medial", "Distal"], answer: 2, explanation: "Medial = prÃ³ximo Ã  linha mÃ©dia.", level: "fÃ¡cil" }, { question: "MÃºsculo responsÃ¡vel pela protraÃ§Ã£o do membro torÃ¡cico:", options: ["BraquiocefÃ¡lico", "TrÃ­ceps braquial", "Esterno-hiÃ³ideo", "Extensor ulnar"], answer: 0, explanation: "O braquiocefÃ¡lico traciona o membro Ã  frente.", level: "mÃ©dio" }, { question: "O nervo mediano estÃ¡ envolvido principalmente com:", options: ["ExtensÃ£o dos dedos", "FlexÃ£o do carpo", "Movimento do pescoÃ§o", "Controle do tronco"], answer: 1, explanation: "Inerva mÃºsculos flexores do carpo e dedos.", level: "mÃ©dio" }, { question: "O mÃºsculo trapÃ©zio insere-se:", options: ["Na escÃ¡pula", "No Ãºmero", "Na mandÃ­bula", "No esterno"], answer: 0, explanation: "Insere-se na espinha da escÃ¡pula.", level: "mÃ©dio" }, { question: "Em cÃ£es, a epiderme Ã© composta por:", options: ["Tecido conjuntivo denso", "EpitÃ©lio pavimentoso queratinizado", "Cartilagem hialina", "EpitÃ©lio cÃºbico simples"], answer: 1, explanation: "Estrutura tÃ­pica de proteÃ§Ã£o.", level: "mÃ©dio" }, { question: "A principal funÃ§Ã£o do mÃºsculo cutÃ¢neo do tronco Ã©:", options: ["Sustentar os membros", "Movimentar os olhos", "Contrair a pele", "Estabilizar a escÃ¡pula"], answer: 2, explanation: "Atua no reflexo cutÃ¢neo do tronco.", level: "mÃ©dio" }, { question: "Qual das alternativas contÃ©m apenas ossos faciais?", options: ["Frontal, zigomÃ¡tico, parietal", "Lacrimal, nasal, incisivo", "Temporal, etmoide, parietal", "Maxilar, frontal, occipital"], answer: 1, explanation: "Lacrimal, nasal e incisivo sÃ£o todos faciais.", level: "mÃ©dio" }, { question: "A porÃ§Ã£o reticular da derme Ã© composta por:", options: ["Tecido adiposo frouxo", "Fibras elÃ¡sticas e tecido frouxo", "Tecido conjuntivo denso com fibras colÃ¡genas espessas", "Tecido cartilaginoso"], answer: 2, explanation: "Ã‰ a camada profunda da derme, rica em colÃ¡geno.", level: "difÃ­cil" }, { question: "O mÃºsculo flexor digital profundo atua em:", options: ["ExtensÃ£o do ombro", "FlexÃ£o dos dedos", "AduÃ§Ã£o da escÃ¡pula", "FlexÃ£o do pescoÃ§o"], answer: 1, explanation: "Flexiona as falanges e participa da flexÃ£o do carpo.", level: "difÃ­cil" }, { question: "Qual parte do encÃ©falo regula a frequÃªncia respiratÃ³ria e cardÃ­aca?", options: ["HipotÃ¡lamo", "Ponte", "Bulbo", "MesencÃ©falo"], answer: 2, explanation: "O bulbo regula funÃ§Ãµes autÃ´nomas vitais.", level: "difÃ­cil" }, { question: "A glÃ¢ndula sudorÃ­para Ã©crina em cÃ£es estÃ¡ presente principalmente em:", options: ["Dorso", "RegiÃ£o inguinal", "Patas (almofadas plantares)", "RegiÃ£o auricular"], answer: 2, explanation: "Presentes nas almofadas plantares, participam na dissipaÃ§Ã£o tÃ©rmica.", level: "difÃ­cil" }, { question: "Qual mÃºsculo estÃ¡ diretamente envolvido na ereÃ§Ã£o dos pelos?", options: ["EsplÃªnio", "Erretor do pelo", "Masseter", "Extensor radial"], answer: 1, explanation: "O erretor do pelo se liga ao folÃ­culo piloso.", level: "difÃ­cil" }, { question: "Durante o reflexo cutÃ¢neo do tronco, a resposta motora depende de:", options: ["Nervo mediano", "Nervo radial", "Nervo torÃ¡cico lateral", "Nervo intercostal"], answer: 2, explanation: "O nervo torÃ¡cico lateral ativa o mÃºsculo cutÃ¢neo do tronco.", level: "difÃ­cil" }, { question: "O plano que divide o corpo em metades direita e esquerda Ã© chamado de:", options: ["Plano sagital", "Plano transversal", "Plano mediano", "Plano frontal"], answer: 2, explanation: "O plano mediano divide o corpo em metades simÃ©tricas: direita e esquerda.", level: "fÃ¡cil" }, { question: "Qual estrutura conecta o encÃ©falo Ã  medula espinhal?", options: ["Cerebelo", "Tronco encefÃ¡lico", "HipotÃ¡lamo", "Corpo caloso"], answer: 1, explanation: "O tronco encefÃ¡lico Ã© responsÃ¡vel pela ligaÃ§Ã£o entre encÃ©falo e medula.", level: "fÃ¡cil" }, { question: "Em qual grupo muscular do antebraÃ§o se encontra o mÃºsculo extensor digital comum?", options: ["Caudomedial", "Craniolateral", "Flexor medial", "Abdutor lateral"], answer: 1, explanation: "O mÃºsculo extensor digital comum pertence ao grupo craniolateral.", level: "mÃ©dio" }, { question: "Em cÃ£es, o reflexo cutÃ¢neo do tronco avalia a integridade de qual nervo motor?", options: ["Nervo radial", "Nervo musculocutÃ¢neo", "Nervo torÃ¡cico lateral", "Nervo femoral"], answer: 2, explanation: "O nervo torÃ¡cico lateral Ã© o responsÃ¡vel pela contraÃ§Ã£o do mÃºsculo cutÃ¢neo do tronco.", level: "mÃ©dio" }, { question: "Quais vÃ©rtebras originam as raÃ­zes nervosas do plexo braquial em cÃ£es?", options: ["C1â€“C5", "C6â€“T2", "T1â€“L4", "C5â€“T1"], answer: 1, explanation: "O plexo braquial canino origina-se de C6 atÃ© T2.", level: "difÃ­cil" }, { question: "Em aves, a pneumatizaÃ§Ã£o dos ossos estÃ¡ relacionada diretamente Ã  funÃ§Ã£o de:", options: ["ProduÃ§Ã£o de cÃ©lulas sanguÃ­neas", "TermorregulaÃ§Ã£o", "Leveza e ventilaÃ§Ã£o pulmonar", "SustentaÃ§Ã£o e postura"], answer: 2, explanation: "A pneumatizaÃ§Ã£o reduz o peso e conecta os ossos ao sistema respiratÃ³rio.", level: "difÃ­cil" }, { question: "Qual termo anatÃ´mico indica a face inferior do corpo dos animais quadrÃºpedes?", options: ["Dorsal", "Ventral", "Distal", "Palmar"], answer: 1, explanation: "'Ventral' refere-se Ã  face inferior (abdominal) dos quadrÃºpedes.", level: "fÃ¡cil", }, { question: "O mÃºsculo responsÃ¡vel por tracionar o membro torÃ¡cico cranialmente e movimentar a cabeÃ§a quando o membro estÃ¡ fixo Ã©:", options: ["TrapÃ©zio", "EsternocefÃ¡lico", "BraquiocefÃ¡lico", "Peitoral superficial"], answer: 2, explanation: "O braquiocefÃ¡lico atua na protraÃ§Ã£o do membro e na movimentaÃ§Ã£o lateral da cabeÃ§a.", level: "fÃ¡cil", }, { question: "Qual nervo inerva os mÃºsculos extensores do carpo e dedos em cÃ£es?", options: ["Mediano", "Ulnar", "MusculocutÃ¢neo", "Radial"], answer: 3, explanation: "O nervo radial Ã© responsÃ¡vel pela inervaÃ§Ã£o dos mÃºsculos extensores.", level: "mÃ©dio", }, { question: "O osso que forma parte da parede lateral da Ã³rbita ocular Ã© o:", options: ["Incisivo", "ZigomÃ¡tico", "Lacrimal", "VÃ´mer"], answer: 1, explanation: "O osso zigomÃ¡tico contribui para a formaÃ§Ã£o da parede lateral da Ã³rbita ocular.", level: "mÃ©dio", }, { question: "Qual Ã© a funÃ§Ã£o do mÃºsculo esplÃªnio?", options: ["FlexÃ£o do carpo", "ExtensÃ£o da escÃ¡pula", "ElevaÃ§Ã£o e extensÃ£o da cabeÃ§a", "Movimento da lÃ­ngua"], answer: 2, explanation: "O mÃºsculo esplÃªnio estende e eleva a cabeÃ§a e o pescoÃ§o.", level: "difÃ­cil", }, { question: "O reflexo cutÃ¢neo do tronco testa a integridade de quais segmentos?", options: ["Nervos cervicais", "Nervos lombares", "Nervos torÃ¡cicos", "Nervos sacrais"], answer: 2, explanation: "Esse reflexo depende da integridade dos nervos torÃ¡cicos e do nervo torÃ¡cico lateral.", level: "difÃ­cil", }, ];

export default function Quiz() { const [start, setStart] = useState(false); const [current, setCurrent] = useState(0); const [score, setScore] = useState(0); const [showResult, setShowResult] = useState(false); const [showExplanation, setShowExplanation] = useState(false); const [selected, setSelected] = useState(null); const [timeLeft, setTimeLeft] = useState(30); const [highScore, setHighScore] = useState(() => { return parseInt(localStorage.getItem("highScore")) || 0; }); const [start, setStart] = useState(false); const [current, setCurrent] = useState(0); const [score, setScore] = useState(0); const [showResult, setShowResult] = useState(false); const [showExplanation, setShowExplanation] = useState(false); const [selected, setSelected] = useState(null);

const handleAnswer = (index) => { const acerto = new Audio("/sounds/acerto.mp3"); const erro = new Audio("/sounds/erro.mp3"); setSelected(index); setShowExplanation(true); setTimeLeft(0); if (index === questions[current].answer) { setScore(prev => prev + 1); acerto.play(); } else { erro.play(); } }; setSelected(index); setShowExplanation(true); setTimeLeft(0); if (index === questions[current].answer) { setScore(prev => prev + 1); } }; setSelected(index); setShowExplanation(true); if (index === questions[current].answer) { setScore(prev => prev + 1); } };

const handleNext = () => { setTimeLeft(30); const next = current + 1; if (next < questions.length) { setCurrent(next); setSelected(null); setShowExplanation(false); } else { setShowResult(true); } };

if (!start) { return ( <motion.div className="p-6 text-center space-y-4" initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }}> <h1 className="text-3xl font-bold">Quiz de Anatomia VeterinÃ¡ria ğŸ§ </h1> <p className="text-lg">Este quiz testa seus conhecimentos em anatomia veterinÃ¡ria com perguntas fÃ¡ceis, mÃ©dias e difÃ­ceis.</p> <Button className="mt-4" onClick={() => setStart(true)}>ComeÃ§ar Quiz</Button> </div> ); }

if (showResult) { if (score > highScore) { localStorage.setItem("highScore", score); setHighScore(score); } const percentage = (score / questions.length) * 100; const getFeedback = () => { if (percentage === 100) return "ğŸ¥‡ Excelente! VocÃª acertou tudo!"; if (percentage >= 80) return "ğŸ‘ Muito bom! Poucos erros."; if (percentage >= 50) return "ğŸ™‚ Bom esforÃ§o! Continue estudando."; return "ğŸ’¡ NÃ£o desista! Reveja o conteÃºdo e tente de novo."; };

return (
  <div className="p-6 text-center space-y-4">
    <h2 className="text-2xl font-bold">Resultado Final</h2>
    <p className="text-lg">VocÃª acertou {score} de {questions.length} perguntas.</p>
    <p className="text-sm text-muted-foreground">ğŸ† Sua maior pontuaÃ§Ã£o: {highScore}</p>
    <p className="text-xl">{getFeedback()}</p>
    <button
      onClick={() => {
        const shareText = `Fiz o Quiz de Anatomia VeterinÃ¡ria e acertei ${score}/${questions.length} perguntas! ğŸ§ `;
        if (navigator.share) {
          navigator.share({ title: 'Meu resultado no quiz', text: shareText });
        } else {
          navigator.clipboard.writeText(shareText);
          alert('Resultado copiado! Compartilhe com seus amigos!');
        }
      }}
      className="mt-3 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
    >
      ğŸ“¤ Compartilhar resultado
    </button>
  </div>
);

}

const q = questions[current];

React.useEffect(() => { if (!start || selected !== null || showExplanation) return; const timer = setInterval(() => { setTimeLeft(prev => { if (prev <= 1) { clearInterval(timer); setSelected(-1); setShowExplanation(true); return 0; } return prev - 1; }); }, 1000); return () => clearInterval(timer); }, [start, current, selected, showExplanation]); const progress = ((current) / questions.length) * 100;

return ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.3 }}> <Card className="max-w-xl mx-auto mt-10 shadow-xl rounded-2xl"> <CardContent className="space-y-6 p-6"> <Progress value={progress} className="h-2" /> <div className="text-right text-sm text-muted-foreground">Tempo restante: {timeLeft}s</div> <h3 className="text-lg font-semibold">Pergunta {current + 1} de {questions.length}</h3> <h4 className="text-xl font-bold">{q.question}</h4> <div className="space-y-2"> {q.options.map((opt, idx) => ( <Button key={idx} className={w-full text-left ${selected !== null && idx === q.answer ? 'bg-green-100' : ''} ${selected !== null && idx === selected && idx !== q.answer ? 'bg-red-100' : ''}} variant="outline" disabled={selected !== null} onClick={() => handleAnswer(idx)} > {opt} </Button> ))} </div> {showExplanation && ( <div className="mt-4 p-3 bg-muted rounded text-sm"> <p><strong>ExplicaÃ§Ã£o:</strong> {q.explanation}</p> <Button className="mt-4" onClick={handleNext}>PrÃ³xima</Button> </div> )} </CardContent> </Card> ); }

