import { useState } from "react"; import { motion } from "framer-motion"; import { Card, CardContent } from "@/components/ui/card"; import { Button } from "@/components/ui/button"; import { Progress } from "@/components/ui/progress";

const questions = [ { question: "Qual é a principal função do músculo subescapular?", options: ["Flexão do ombro", "Extensão do carpo", "Adução da escápula", "Adução do ombro"], answer: 3, explanation: "O subescapular aduz o ombro e estabiliza a articulação.", level: "médio" }, { question: "O termo 'plantar' se refere à:", options: ["Face dorsal do membro torácico", "Face ventral da escápula", "Face caudal do membro pélvico", "Face palmar do membro torácico"], answer: 2, explanation: "'Plantar' refere-se à parte inferior dos membros pélvicos.", level: "fácil" }, { question: "Qual músculo está envolvido na extensão da articulação do carpo?", options: ["Flexor digital profundo", "Extensor radial do carpo", "Trapézio", "Braquiocefálico"], answer: 1, explanation: "O extensor radial do carpo estende a articulação do carpo.", level: "médio" }, { question: "O plano que divide o corpo em dorsal e ventral é o plano:", options: ["Transversal", "Mediano", "Sagital", "Frontal"], answer: 3, explanation: "O plano frontal separa as partes dorsal e ventral.", level: "fácil" }, { question: "Qual dessas estruturas pertence ao sistema tegumentar?", options: ["Músculo bíceps", "Osso nasal", "Pele", "Pulmão"], answer: 2, explanation: "A pele é o principal órgão do sistema tegumentar.", level: "fácil" }, { question: "O reflexo cutâneo do tronco é útil para avaliar:", options: ["Lesões musculares do membro pélvico", "Integridade do encéfalo", "Trauma medular torácico", "Resposta hormonal"], answer: 2, explanation: "Esse reflexo avalia lesões torácicas na medula espinhal.", level: "difícil" }, { question: "Qual músculo eleva a cabeça e o pescoço?", options: ["Romboide", "Trapézio", "Esplênio", "Peitoral profundo"], answer: 2, explanation: "O esplênio é responsável pela elevação e extensão da cabeça.", level: "médio" }, { question: "As glândulas sudoríparas de cavalos são do tipo:", options: ["Écrinas", "Apócrinas funcionais", "Sebáceas", "Endócrinas"], answer: 1, explanation: "As glândulas apócrinas em equinos atuam na sudorese durante o esforço.", level: "difícil" }, { question: "O plexo braquial inerva:", options: ["Membro pélvico", "Membro torácico", "Cabeça", "Cauda"], answer: 1, explanation: "O plexo braquial dá origem aos nervos do membro torácico.", level: "fácil" }, { question: "O osso zigomático faz parte de qual estrutura?", options: ["Caixa torácica", "Pelve", "Crânio", "Coluna vertebral"], answer: 2, explanation: "O osso zigomático compõe a parede lateral da órbita no crânio.", level: "médio" }, // 18 novas perguntas adicionadas { question: "Qual termo indica a extremidade mais próxima da origem do membro?", options: ["Distal", "Ventral", "Proximal", "Medial"], answer: 2, explanation: "Proximal é mais próximo da origem do membro.", level: "fácil" }, { question: "Qual dos seguintes é um osso da face?", options: ["Occipital", "Maxilar", "Parietal", "Temporal"], answer: 1, explanation: "O maxilar compõe a parte facial do crânio.", level: "fácil" }, { question: "A função principal da epiderme é:", options: ["Suporte vascular", "Síntese de colágeno", "Barreira protetora", "Termorregulação"], answer: 2, explanation: "A epiderme protege contra agentes externos.", level: "fácil" }, { question: "Músculo que flexiona o pescoço lateralmente:", options: ["Esternocefálico", "Bíceps femoral", "Trapézio", "Peitoral superficial"], answer: 0, explanation: "O esternocefálico atua na flexão lateral da cabeça/pescoço.", level: "fácil" }, { question: "A hipoderme é rica em:", options: ["Músculo esquelético", "Epitélio glandular", "Tecido adiposo", "Ossos planos"], answer: 2, explanation: "A hipoderme contém gordura para isolamento térmico.", level: "fácil" }, { question: "Termo que indica o lado voltado para a linha média do corpo:", options: ["Lateral", "Dorsal", "Medial", "Distal"], answer: 2, explanation: "Medial = próximo à linha média.", level: "fácil" }, { question: "Músculo responsável pela protração do membro torácico:", options: ["Braquiocefálico", "Tríceps braquial", "Esterno-hióideo", "Extensor ulnar"], answer: 0, explanation: "O braquiocefálico traciona o membro à frente.", level: "médio" }, { question: "O nervo mediano está envolvido principalmente com:", options: ["Extensão dos dedos", "Flexão do carpo", "Movimento do pescoço", "Controle do tronco"], answer: 1, explanation: "Inerva músculos flexores do carpo e dedos.", level: "médio" }, { question: "O músculo trapézio insere-se:", options: ["Na escápula", "No úmero", "Na mandíbula", "No esterno"], answer: 0, explanation: "Insere-se na espinha da escápula.", level: "médio" }, { question: "Em cães, a epiderme é composta por:", options: ["Tecido conjuntivo denso", "Epitélio pavimentoso queratinizado", "Cartilagem hialina", "Epitélio cúbico simples"], answer: 1, explanation: "Estrutura típica de proteção.", level: "médio" }, { question: "A principal função do músculo cutâneo do tronco é:", options: ["Sustentar os membros", "Movimentar os olhos", "Contrair a pele", "Estabilizar a escápula"], answer: 2, explanation: "Atua no reflexo cutâneo do tronco.", level: "médio" }, { question: "Qual das alternativas contém apenas ossos faciais?", options: ["Frontal, zigomático, parietal", "Lacrimal, nasal, incisivo", "Temporal, etmoide, parietal", "Maxilar, frontal, occipital"], answer: 1, explanation: "Lacrimal, nasal e incisivo são todos faciais.", level: "médio" }, { question: "A porção reticular da derme é composta por:", options: ["Tecido adiposo frouxo", "Fibras elásticas e tecido frouxo", "Tecido conjuntivo denso com fibras colágenas espessas", "Tecido cartilaginoso"], answer: 2, explanation: "É a camada profunda da derme, rica em colágeno.", level: "difícil" }, { question: "O músculo flexor digital profundo atua em:", options: ["Extensão do ombro", "Flexão dos dedos", "Adução da escápula", "Flexão do pescoço"], answer: 1, explanation: "Flexiona as falanges e participa da flexão do carpo.", level: "difícil" }, { question: "Qual parte do encéfalo regula a frequência respiratória e cardíaca?", options: ["Hipotálamo", "Ponte", "Bulbo", "Mesencéfalo"], answer: 2, explanation: "O bulbo regula funções autônomas vitais.", level: "difícil" }, { question: "A glândula sudorípara écrina em cães está presente principalmente em:", options: ["Dorso", "Região inguinal", "Patas (almofadas plantares)", "Região auricular"], answer: 2, explanation: "Presentes nas almofadas plantares, participam na dissipação térmica.", level: "difícil" }, { question: "Qual músculo está diretamente envolvido na ereção dos pelos?", options: ["Esplênio", "Erretor do pelo", "Masseter", "Extensor radial"], answer: 1, explanation: "O erretor do pelo se liga ao folículo piloso.", level: "difícil" }, { question: "Durante o reflexo cutâneo do tronco, a resposta motora depende de:", options: ["Nervo mediano", "Nervo radial", "Nervo torácico lateral", "Nervo intercostal"], answer: 2, explanation: "O nervo torácico lateral ativa o músculo cutâneo do tronco.", level: "difícil" }, { question: "O plano que divide o corpo em metades direita e esquerda é chamado de:", options: ["Plano sagital", "Plano transversal", "Plano mediano", "Plano frontal"], answer: 2, explanation: "O plano mediano divide o corpo em metades simétricas: direita e esquerda.", level: "fácil" }, { question: "Qual estrutura conecta o encéfalo à medula espinhal?", options: ["Cerebelo", "Tronco encefálico", "Hipotálamo", "Corpo caloso"], answer: 1, explanation: "O tronco encefálico é responsável pela ligação entre encéfalo e medula.", level: "fácil" }, { question: "Em qual grupo muscular do antebraço se encontra o músculo extensor digital comum?", options: ["Caudomedial", "Craniolateral", "Flexor medial", "Abdutor lateral"], answer: 1, explanation: "O músculo extensor digital comum pertence ao grupo craniolateral.", level: "médio" }, { question: "Em cães, o reflexo cutâneo do tronco avalia a integridade de qual nervo motor?", options: ["Nervo radial", "Nervo musculocutâneo", "Nervo torácico lateral", "Nervo femoral"], answer: 2, explanation: "O nervo torácico lateral é o responsável pela contração do músculo cutâneo do tronco.", level: "médio" }, { question: "Quais vértebras originam as raízes nervosas do plexo braquial em cães?", options: ["C1–C5", "C6–T2", "T1–L4", "C5–T1"], answer: 1, explanation: "O plexo braquial canino origina-se de C6 até T2.", level: "difícil" }, { question: "Em aves, a pneumatização dos ossos está relacionada diretamente à função de:", options: ["Produção de células sanguíneas", "Termorregulação", "Leveza e ventilação pulmonar", "Sustentação e postura"], answer: 2, explanation: "A pneumatização reduz o peso e conecta os ossos ao sistema respiratório.", level: "difícil" }, { question: "Qual termo anatômico indica a face inferior do corpo dos animais quadrúpedes?", options: ["Dorsal", "Ventral", "Distal", "Palmar"], answer: 1, explanation: "'Ventral' refere-se à face inferior (abdominal) dos quadrúpedes.", level: "fácil", }, { question: "O músculo responsável por tracionar o membro torácico cranialmente e movimentar a cabeça quando o membro está fixo é:", options: ["Trapézio", "Esternocefálico", "Braquiocefálico", "Peitoral superficial"], answer: 2, explanation: "O braquiocefálico atua na protração do membro e na movimentação lateral da cabeça.", level: "fácil", }, { question: "Qual nervo inerva os músculos extensores do carpo e dedos em cães?", options: ["Mediano", "Ulnar", "Musculocutâneo", "Radial"], answer: 3, explanation: "O nervo radial é responsável pela inervação dos músculos extensores.", level: "médio", }, { question: "O osso que forma parte da parede lateral da órbita ocular é o:", options: ["Incisivo", "Zigomático", "Lacrimal", "Vômer"], answer: 1, explanation: "O osso zigomático contribui para a formação da parede lateral da órbita ocular.", level: "médio", }, { question: "Qual é a função do músculo esplênio?", options: ["Flexão do carpo", "Extensão da escápula", "Elevação e extensão da cabeça", "Movimento da língua"], answer: 2, explanation: "O músculo esplênio estende e eleva a cabeça e o pescoço.", level: "difícil", }, { question: "O reflexo cutâneo do tronco testa a integridade de quais segmentos?", options: ["Nervos cervicais", "Nervos lombares", "Nervos torácicos", "Nervos sacrais"], answer: 2, explanation: "Esse reflexo depende da integridade dos nervos torácicos e do nervo torácico lateral.", level: "difícil", }, ];

export default function Quiz() { const [start, setStart] = useState(false); const [current, setCurrent] = useState(0); const [score, setScore] = useState(0); const [showResult, setShowResult] = useState(false); const [showExplanation, setShowExplanation] = useState(false); const [selected, setSelected] = useState(null); const [timeLeft, setTimeLeft] = useState(30); const [highScore, setHighScore] = useState(() => { return parseInt(localStorage.getItem("highScore")) || 0; }); const [start, setStart] = useState(false); const [current, setCurrent] = useState(0); const [score, setScore] = useState(0); const [showResult, setShowResult] = useState(false); const [showExplanation, setShowExplanation] = useState(false); const [selected, setSelected] = useState(null);

const handleAnswer = (index) => { const acerto = new Audio("/sounds/acerto.mp3"); const erro = new Audio("/sounds/erro.mp3"); setSelected(index); setShowExplanation(true); setTimeLeft(0); if (index === questions[current].answer) { setScore(prev => prev + 1); acerto.play(); } else { erro.play(); } }; setSelected(index); setShowExplanation(true); setTimeLeft(0); if (index === questions[current].answer) { setScore(prev => prev + 1); } }; setSelected(index); setShowExplanation(true); if (index === questions[current].answer) { setScore(prev => prev + 1); } };

const handleNext = () => { setTimeLeft(30); const next = current + 1; if (next < questions.length) { setCurrent(next); setSelected(null); setShowExplanation(false); } else { setShowResult(true); } };

if (!start) { return ( <motion.div className="p-6 text-center space-y-4" initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.5 }}> <h1 className="text-3xl font-bold">Quiz de Anatomia Veterinária 🧠</h1> <p className="text-lg">Este quiz testa seus conhecimentos em anatomia veterinária com perguntas fáceis, médias e difíceis.</p> <Button className="mt-4" onClick={() => setStart(true)}>Começar Quiz</Button> </div> ); }

if (showResult) { if (score > highScore) { localStorage.setItem("highScore", score); setHighScore(score); } const percentage = (score / questions.length) * 100; const getFeedback = () => { if (percentage === 100) return "🥇 Excelente! Você acertou tudo!"; if (percentage >= 80) return "👏 Muito bom! Poucos erros."; if (percentage >= 50) return "🙂 Bom esforço! Continue estudando."; return "💡 Não desista! Reveja o conteúdo e tente de novo."; };

return (
  <div className="p-6 text-center space-y-4">
    <h2 className="text-2xl font-bold">Resultado Final</h2>
    <p className="text-lg">Você acertou {score} de {questions.length} perguntas.</p>
    <p className="text-sm text-muted-foreground">🏆 Sua maior pontuação: {highScore}</p>
    <p className="text-xl">{getFeedback()}</p>
    <button
      onClick={() => {
        const shareText = `Fiz o Quiz de Anatomia Veterinária e acertei ${score}/${questions.length} perguntas! 🧠`;
        if (navigator.share) {
          navigator.share({ title: 'Meu resultado no quiz', text: shareText });
        } else {
          navigator.clipboard.writeText(shareText);
          alert('Resultado copiado! Compartilhe com seus amigos!');
        }
      }}
      className="mt-3 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
    >
      📤 Compartilhar resultado
    </button>
  </div>
);

}

const q = questions[current];

React.useEffect(() => { if (!start || selected !== null || showExplanation) return; const timer = setInterval(() => { setTimeLeft(prev => { if (prev <= 1) { clearInterval(timer); setSelected(-1); setShowExplanation(true); return 0; } return prev - 1; }); }, 1000); return () => clearInterval(timer); }, [start, current, selected, showExplanation]); const progress = ((current) / questions.length) * 100;

return ( <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.3 }}> <Card className="max-w-xl mx-auto mt-10 shadow-xl rounded-2xl"> <CardContent className="space-y-6 p-6"> <Progress value={progress} className="h-2" /> <div className="text-right text-sm text-muted-foreground">Tempo restante: {timeLeft}s</div> <h3 className="text-lg font-semibold">Pergunta {current + 1} de {questions.length}</h3> <h4 className="text-xl font-bold">{q.question}</h4> <div className="space-y-2"> {q.options.map((opt, idx) => ( <Button key={idx} className={w-full text-left ${selected !== null && idx === q.answer ? 'bg-green-100' : ''} ${selected !== null && idx === selected && idx !== q.answer ? 'bg-red-100' : ''}} variant="outline" disabled={selected !== null} onClick={() => handleAnswer(idx)} > {opt} </Button> ))} </div> {showExplanation && ( <div className="mt-4 p-3 bg-muted rounded text-sm"> <p><strong>Explicação:</strong> {q.explanation}</p> <Button className="mt-4" onClick={handleNext}>Próxima</Button> </div> )} </CardContent> </Card> ); }

